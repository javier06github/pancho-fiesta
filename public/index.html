<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pancho Fiesta</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.2/socket.io.js"></script>
    <script src="https://kit.fontawesome.com/e05a616778.js" crossorigin="anonymous"></script>
</head>
<body>
    <header class="header">
        <nav class="navbar">
            <ul class="menu-list">
                <li><a href="#snacks">Snacks</a></li>
                <li><a href="#panch">Panchos Cortos</a></li>
                <li><a href="#superpanch">Super Panchos</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-btn">Hamburguesas</a>
                    <div class="dropdown-content">
                        <a href="#hamgin">Promo Hamburguesas Gigantes 120 y 125 grs</a>
                        <a href="#titulo-lista-parri">Promo Hamburguesas Trad. 69 grs.</a>
                        <a href="#titulo-lista-gigantes">Promo 30 Hamburguesas parrilleras 83 grs.</a>
                    </div>
                </li>
            </ul>
        </nav>
        <div class="cart-container">
            <ul>
                <li class="submenu" onclick="toggleCarrito()">
                    <img id="img-carrito" src="img/car.svg" alt="car">
                    <div id="cart-counter">0</div>
                    <div id="carrito">
                        <table id="lista-carrito">
                            <thead>
                                <tr>
                                    <th>Nombre</th>
                                    <th>Precio</th>
                                    <th>Cantidad</th>
                                    <th>Subtotal</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                        <a href="#" id="vaciar-carrito" class="btn-3">Vaciar Carrito</a>
                        <button type="button" id="enviar-pedido" class="btn-3">Enviar Pedido</button>
                        <div id="total">Total: 0.00 $</div>
                    </div>
                </li>
            </ul>
        </div>
        <div id="resumen-popup">
            <table>
                <tr>
                    <th>Artículo</th>
                    <th>Cantidad</th>
                    <th>Valor por Artículo</th>
                    <th>Total por Artículo</th>
                </tr>
            </table>
            <div>Total de la Compra: 400.00 $</div>
            <button id="aceptar-compra-btn">Aceptar Compra</button>
        </div>
        <div class="contact-section">
            <ul class="contact-list">
                <li><p class="contact-comment">¡Contáctanos!</p></li>
                <li><a href="mailto:panchofiestaok@gmail.com"><i class="fas fa-envelope"></i> Correo Electronico</a></li>
                <li><a href="https://wa.me/+5491157136759"><i class="fa-brands fa-whatsapp"></i> WhatsApp</a></li>
                <li><a href="https://www.instagram.com/panchofiesta/"><i class="fab fa-instagram"></i> Instagram</a></li>
            </ul>
        </div>
    </header>
    <section class="oferts container">
        <div class="ofert-1 b1">
            <div class="ofert-img">
                <img src="img/1920hamb.svg" id="hamgin" alt="">
            </div>
        </div>
        <h2 id="titulo-lista-gigantes" class="agregar-al-carrito" onclick="toggleSubGrupo('subgrupo-gigantes')">Promo <br> Hamburguesas Gigantes  <br> 110 grs. y 125 grs. con Pan y Aderezo &#9660;</h2>
        <div id="subgrupo-gigantes" class="subgrupo-container" style="display: none;">
            <h3 class="subgrupo-titulo" onclick="toggleProductos('lista-3')">20 Hamburguesas Gigantes  <br> 110 grs. y 125 grs. con Pan y Aderezo &#9660;</h3>
            <div class="box-container carousel" id="lista-3">
            </div>
            <h3 class="subgrupo-titulo" onclick="toggleProductos('lista-4')">40 Hamburguesas Gigantes <br> 110 grs. y 125 grs. con Pan y Aderezo &#9660;</h3>
            <div class="box-container carousel" id="lista-4">
            </div>
        </div>
        <div class="ofert-1 b1">
            <div class="ofert-img">
                <img src="img/1.svg" alt="">
            </div>
        </div>
        <h2 id="titulo-lista-parri" class="agregar-al-carrito" onclick="toggleSubGrupo('subgrupo-parri')">Promo <br> hamburguesas Parrilleras <br> de 83 grs con pan y aderezo &#9660;</h2>
        <div id="subgrupo-parri" class="subgrupo-container" style="display: none;">
            <h3 class="subgrupo-titulo" onclick="toggleProductos('lista-7')">30 hamburguesas parrilleras <br> de 83 grs con pan y aderezo &#9660;</h3>
            <div class="box-container carousel" id="lista-7">
            </div>
            <h3 class="subgrupo-titulo" onclick="toggleProductos('lista-8')">48 hamburguesas parrilleras <br> de 83 grs con pan y aderezo &#9660;</h3>
            <div class="box-container carousel" id="lista-8">
            </div>
        </div>
        <div class="ofert-1 b1">
            <div class="ofert-img">
                <img src="img/2.svg" alt="">
            </div>
        </div>
        <h2 id="titulo-lista-trad" class="agregar-al-carrito" onclick="toggleSubGrupo('subgrupo-trad')">Promo <br> hamburguesas tradicionales <br> de 69 grs con pan y aderezo &#9660;</h2>
        <div id="subgrupo-trad" class="subgrupo-container" style="display: none;">
            <h3 class="subgrupo-titulo" onclick="toggleProductos('lista-5')">30 hamburguesas tradicionales <br> de 69 grs con pan y aderezo &#9660;</h3>
            <div class="box-container carousel" id="lista-5">
            </div>
            <h3 class="subgrupo-titulo" onclick="toggleProductos('lista-6')">60 hamburguesas tradicionales <br> de 69 grs con pan y aderezo &#9660;</h3>
            <div class="box-container carousel" id="lista-6">
            </div>
        </div>
        <div class="ofert-1 b2">
            <div class="ofert-img">
                <img src="img/3.svg" id="panch" alt="">
            </div>
        </div>
        <h2 class="agregar-al-carrito" onclick="toggleProductos('lista-9')">Promo <br> 30 Panchos Cortos con pan y aderezo  &#9660;</h2>
        <div class="box-container carousel" id="lista-9" style="display: none;"></div>
        <div class="ofert-1 b2">
            <div class="ofert-img">
                <img src="img/4.svg" id="superpanch" alt="">
            </div>
        </div>
        <h2 class="agregar-al-carrito" onclick="toggleProductos('lista-10')">Promo <br> 36 Super Panchos con pan y aderezo  &#9660;</h2>
        <div class="box-container carousel" id="lista-10" style="display: none;"></div>   
        <div class="ofert-1 b3">
            <div class="ofert-img">
                <img src="img/5.svg" id="snacks" alt="">
            </div>
        </div>
        <h2 class="agregar-al-carrito" onclick="toggleProductos('lista-11')">COMBO <br> Palitos, Papas fritas, Mani y Chizitos  &#9660;</h2>
        <div class="box-container carousel" id="lista-11"></div>   
        <h2 id="titulo-lista-snacks" class="agregar-al-carrito" onclick="toggleSubGrupo('subgrupo-snacks')">Snacks &#9660;</h2>
        <div id="subgrupo-snacks" class="subgrupo-container" style="display: none;">
            <h3 class="subgrupo-titulo" onclick="toggleProductos('lista-1')">Riquitos &#9660;</h3>
            <div class="box-container carousel" id="lista-1"></div>
            <h3 class="subgrupo-titulo" onclick="toggleProductos('lista-2')">Leq &#9660;</h3>
            <div class="box-container carousel" id="lista-2"></div>
    </section>
    <footer class="footer">
        <div class="footer-content container">
            <!-- Contenido del footer -->
        </div>
    </footer>
    <script src="script.js"></script>
    <script>
        const socket = io();

        socket.on('productosObtenidos', (productos) => {
            productos.forEach((producto) => {
                const divBox = document.createElement('div');
                divBox.className = 'box';

                const img = document.createElement('img');
                img.src = producto.imagen;
                img.alt = producto.nombre;

                const divProductTxt = document.createElement('div');
                divProductTxt.className = 'product-txt';

                const h3 = document.createElement('h3');
                h3.textContent = producto.nombre;

                const p1 = document.createElement('p');
                p1.textContent = producto.descripcion;

                const p2 = document.createElement('p');
                p2.className = 'precio';
                p2.id = `precio-producto-${producto.id}`;
                p2.textContent = `$${producto.precio.toFixed(2)}`;

                const a = document.createElement('a');
                a.href = '#';
                a.className = 'agregar-carrito btn-3';
                a.dataset.id = producto.id;
                a.textContent = 'Agregar al carrito';

                divProductTxt.appendChild(h3);
                divProductTxt.appendChild(p1);
                divProductTxt.appendChild(p2);
                divProductTxt.appendChild(a);

                divBox.appendChild(img);
                divBox.appendChild(divProductTxt);

                document.querySelectorAll('.box-container').forEach((listaProductos) => {
                    listaProductos.appendChild(divBox.cloneNode(true));
                });
            });
        });

        socket.on('preciosActualizados', (productos) => {
            const listaProductos = document.getElementById('lista-1');
            listaProductos.innerHTML = '';

            productos.forEach((producto) => {
                const divBox = document.createElement('div');
                divBox.className = 'box';

                const img = document.createElement('img');
                img.src = producto.imagen;
                img.alt = producto.nombre;

                const divProductTxt = document.createElement('div');
                divProductTxt.className = 'product-txt';

                const h3 = document.createElement('h3');
                h3.textContent = producto.nombre;

                const p1 = document.createElement('p');
                p1.textContent = producto.descripcion;

                const p2 = document.createElement('p');
                p2.className = 'precio';
                p2.id = `precio-producto-${producto.id}`;
                p2.textContent = `$${producto.precio.toFixed(2)}`;

                const a = document.createElement('a');
                a.href = '#';
                a.className = 'agregar-carrito btn-3';
                a.dataset.id = producto.id;
                a.textContent = 'Agregar al carrito';

                divProductTxt.appendChild(h3);
                divProductTxt.appendChild(p1);
                divProductTxt.appendChild(p2);
                divProductTxt.appendChild(a);

                divBox.appendChild(img);
                divBox.appendChild(divProductTxt);

                listaProductos.appendChild(divBox);
            });
        });
    </script>
    <script>
        function toggleSubGrupo(id) {
            var container = document.getElementById(id);
            if (window.getComputedStyle(container).display === "none") {
                container.style.display = "block";
            } else {
                container.style.display = "none";
            }
        }

        function toggleProductos(id) {
            var container = document.getElementById(id);
            if (container.style.display === "none" || container.style.display === "") {
                container.style.display = "block";
            } else {
                container.style.display = "none";
            }
        }

        document.addEventListener("DOMContentLoaded", function() {
            var subgrupoLeq = document.getElementById('lista-2');
            var subgrupoRiquitos = document.getElementById('lista-1');
            subgrupoLeq.style.display = "none";
            subgrupoRiquitos.style.display = "none";
        });
    </script>
    <div id="scrollTopBtn" title="Ir al inicio">&#9650;</div>
</body>
</html>
